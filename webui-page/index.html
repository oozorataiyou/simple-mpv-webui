<html>

  <head>
    <meta charset="utf-8" />
    <!-- <meta name="viewport" content="user-scalable=no"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Fabio Ambauen">
    <title>simple-mpv-webui</title>
    <link rel="apple-touch-icon" sizes="180x180" href="static/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="static/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="static/favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="192x192" href="static/favicons/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="static/favicons/android-chrome-512x512.png">
    <link rel="manifest" href="static/favicons/site.webmanifest" crossorigin="use-credentials">
    <link rel="mask-icon" href="static/favicons/safari-pinned-tab.svg" color="#000000">
    <link rel="shortcut icon" href="static/favicons/favicon.ico">
    <meta name="msapplication-config" content="static/favicons/browserconfig.xml">
    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="static/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="webui.css">
    <script src="static/fontawesome-free-5.14.0/js/all.min.js"></script>
    <script>
      const alertUp = () => alert("Up")
      const alertDel = () => alert("del")
      const alertWrap = () => alert("wrap")
    </script>
  </head>

  <body>
    <nav class="navbar navbar-expand navbar-dark bg-dark">
      <a class="navbar-brand" href="#" onClick="return false;">
        <img src="static/favicons/favicon-32x32.png" width="30" height="30" alt="" loading="lazy">
        MPV WebUI
      </a>

      <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="#" data-toggle="modal" data-target="#playlistModal">
              <i class="fas fa-list-ul"></i>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" data-toggle="modal" data-target="#shortcutsModal">
              <i class="fas fa-keyboard"></i>
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- playlist modal -->
    <div class="modal fade" id="playlistModal" tabindex="-1" aria-labelledby="playlistModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-xl  modal-dialog-scrollable">
        <div class="modal-content bg-dark">
          <div class="modal-header">
            <h5 class="modal-title">Playlist</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true" class="text-white">&times;</span>
            </button>
          </div>
          <div class="modal-body p-0">
            <div class="container-fluid p-3">
              <div class="row">
                <div class="col mb-2">
                  <button type="button" class="btn btn-outline-success btn-lg btn-block" onClick="send('toggle_pause')">
                    <span class="playPauseButton">
                      <i class="fas fa-play"></i>
                      <i class="fas fa-pause"></i>
                    </span>
                  </button>
                </div>
                <div class="col mb-2">
                  <button type="button" class="btn btn-outline-primary btn-lg btn-block"
                    onClick="playlist_loop_cycle()">
                    <i class="fas fa-redo-alt"></i>
                  </button>
                </div>
                <div class="col mb-2">
                  <button type="button" class="btn btn-outline-primary btn-lg btn-block"
                    onClick="send('playlist_shuffle')">
                    <i class="fas fa-random"></i>
                  </button>
                </div>
                <div class="col mb-2">
                  <button type="button" class="btn btn-outline-danger btn-lg btn-block" onClick="send('quit')">
                    <i class="fas fa-power-off"></i>
                  </button>
                </div>
              </div>
            </div>
            <div id="playlist" class="list-group list-group-flush mb-3">
              <!-- <div class="list-group-item list-group-item-action bg-dark text-white">
                <div class="d-flex w-100 justify-content-between align-items-center">
                  <div class="playlist-position">

                  </div>
                  <div>Title</div>
                  <div>
                    <button class="btn btn-outline-primary btn-sm position-relative" onclick="alertUp()">Up</button>
                    <button class="btn btn-outline-danger btn-sm position-relative" onclick="alertDel()">Del</button>
                    <a class="stretched-link" onclick="alertWrap()"></a>
                  </div>
                </div>
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Shortcuts modal -->
    <div class="modal fade" id="shortcutsModal" tabindex="-1" aria-labelledby="shortcutsModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content bg-dark">
          <div class="modal-header">
            <h5 class="modal-title">Shortcuts</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true" class="text-white">&times;</span>
            </button>
          </div>
          <div class="modal-body p-0">
            <table id="shortcuts-table" class="table table-striped table-dark">
              <tr class="text-center">
                <th><b class="fas fa-keyboard"></b></th>
                <th>Action</th>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg">
      <div class="row my-3">
        <div class="col">
          <div class="card bg-dark w-100">
            <div class="card-body">
              <h5 class="card-title" id="title">Title</h5>
              <h6 class="card-subtitle mb-2 text-muted" id="artist">Artist</h6>
              <h6 class="card-subtitle mb-2 text-muted" id="album">Album</h6>
            </div>
            <table class="table table-borderless table-dark">
              <thead>
              <tbody>
                <tr>
                  <th scope="row">Speed: </th>
                  <td id="speed"></td>
                </tr>
                <tr>
                  <th scope="row">Sub delay: </th>
                  <td id="sub-delay"></td>
                </tr>
                <tr>
                  <th scope="row">Audio delay: </th>
                  <td id="audio-delay"></td>
                </tr>
                <tr>
                  <th scope="row">Chapter: </th>
                  <td id="chapterContent"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Media Position -->
      <div class="row mb-3">
        <div class="col-12">
          <input type="range" min="0" max="0" value="0" step="any" class="slider mb-1 w-100 rounded " id="mediaPosition"
            list="chapters">
          <datalist id="chapters"></datalist>
        </div>
        <div class="col-12 d-flex justify-content-between">
          <div id="remaining"></div>
          <div id="position"></div>
          <div id="duration"></div>
        </div>
      </div>

      <!-- Media Volume -->
      <div class="row mb-3">
        <div class="col-12">
          <input type="range" min="0" max="130" value="100" step=".1" class="slider mb-1 w-100 rounded "
            id="mediaVolume">
          <datalist id="chapters"></datalist>
        </div>
        <div class="col-12 d-flex justify-content-between">
          <div class="left sliderVolume"><i class="fas fa-volume-down"></i></div>
          <div class="sliderCenter" id="volume"></div>
          <div class="right"><i class="fas fa-volume-up"></i></div>
        </div>
      </div>

      <!-- Start toggle playback buttons -->
      <div class="row d-none mb-3 d-sm-none d-md-block">
        <div class="col">
          <div class="btn-group w-100" role="group" aria-label="Toggle playback (lg)">
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('playlist_prev')"
              title="Previous playlist (p)">
              <i class="fas fa-fast-backward"></i>
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('add_chapter', '-1')"
              title="Previous chapter">
              <i class="fas fa-step-backward"></i>
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('seek', '-10')"
              title="Rewind 10 sec (ArrowLeft)">
              <i class="fas fa-backward"></i>
            </button>
            <button type="button" class="btn btn-outline-success btn-lg" onClick="send('toggle_pause')"
              title="Play/Pause (Space)">
              <span class="playPauseButton">
                <i class="fas fa-play"></i>
                <i class="fas fa-pause"></i>
              </span>
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('seek', '10')"
              title="Forward 10 sec (ArrowRight)">
              <i class="fas fa-forward"></i>
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('add_chapter', '1')"
              title="Next chapter">
              <i class="fas fa-step-forward"></i>
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('playlist_next')"
              title="Next playlist (n)">
              <i class="fas fa-fast-forward"></i>
            </button>
          </div>
        </div>
      </div>

      <div class="row mb-3 d-sm-block d-md-none">
        <div class="col-12 mb-3">
          <div class="btn-group w-100" role="group" aria-label="Toggle playback (sm-1)">
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('seek', '-10')"
              title="Rewind 10 sec (ArrowLeft)">
              <i class="fas fa-backward"></i>
            </button>
            <button type="button" class="btn btn-outline-success btn-lg" onClick="send('toggle_pause')"
              title="Play/Pause (Space)">
              <span class="playPauseButton">
                <i class="fas fa-play"></i>
                <i class="fas fa-pause"></i>
              </span>
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('seek', '10')"
              title="Forward 10 sec (ArrowRight)">
              <i class="fas fa-forward"></i>
            </button>
            </button>
          </div>
        </div>
        <div class="col-12">
          <div class="btn-group w-100" role="group" aria-label="Toggle playback (sm-2)">
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('playlist_prev')"
              title="Previous playlist (p)">
              <i class="fas fa-fast-backward"></i>
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('add_chapter', '-1')"
              title="Previous chapter">
              <i class="fas fa-step-backward"></i>
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('add_chapter', '1')"
              title="Next chapter">
              <i class="fas fa-step-forward"></i>
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('playlist_next')"
              title="Next playlist (n)">
              <i class="fas fa-fast-forward"></i>
            </button>
          </div>
        </div>
      </div>
      <!-- End toggle playback buttons -->


      <div class="row">
        <!-- Toggle subtitle -->
        <div class="col-12 col-md-6 mb-3">
          <div class="btn-group w-100" role="group" aria-label="Toggle audio delay">
            <button type="button" class="btn btn-outline-warning btn-lg" onClick="send('add_sub_delay', '-0.05')">
              Delay -
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('cycle_sub')"
              title="Cycle subtitles (j)">
              <span id="nextSub">Next sub</span>
            </button>
            <button type="button" class="btn btn-outline-warning btn-lg" onClick="send('add_sub_delay', '0.05')">
              Delay +
            </button>
          </div>
        </div>
        <!-- Toggle audio -->
        <div class="col-12 col-md-6 mb-3">
          <div class="btn-group w-100" role="group" aria-label="Toggle audio delay">
            <button type="button" class="btn btn-outline-warning btn-lg" onClick="send('add_audio_delay', '-0.05')">
              Delay -
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('cycle_audio')">
              <span id="nextAudio">Next audio</span>
            </button>
            <button type="button" class="btn btn-outline-warning btn-lg" onClick="send('add_audio_delay', '0.05')">
              Delay +
            </button>
          </div>
        </div>
      </div>

      <div class="row">
        <!-- Toggle fullscreen & audio device -->
        <div class="col-6 col-md-3 mb-3">
          <button type="button" class="btn btn-outline-primary btn-block btn-lg" onClick="send('fullscreen')"
            title="Toggle fullscreen (f)">
            <span id="fullscreenButton">Fullscreen</span>
          </button>
        </div>
        <div class="col-6 col-md-3 mb-3">
          <button type="button" class="btn btn-outline-primary btn-block btn-lg" onClick="send('cycle_audio_device')">
            Audio device
          </button>
        </div>
        <!-- Toggle playback speed -->
        <div class="col mb-3">
          <div class="btn-group w-100" role="group" aria-label="First group">
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('speed_adjust', '0.9091')"
              title="Slower playback speed ([)">
              Slower
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('speed_set')"
              title="Normal playback speed (Backspace)">
              Normal
            </button>
            <button type="button" class="btn btn-outline-primary btn-lg" onClick="send('speed_adjust', '1.1')"
              title="Faster playback speed (])">
              Faster
            </button>
          </div>
        </div>
      </div>

      <audio id="audio" src="static/audio/silence.mp3" loop></audio>
    </div>
  </body>
  <!-- load bootstrap js -->
  <script src="static/bootstrap/jquery-3.5.1.slim.min.js"></script>
  <script src="static/bootstrap/popper.min.js"></script>
  <script src="static/bootstrap/bootstrap.min.js"></script>
  <script src="webui.js"></script>

</html>